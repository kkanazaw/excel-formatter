apply plugin: "java"
apply plugin: "maven"
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceCompatibility = 1.8
targetCompatibility = 1.8 

group = 'jp.designrule'
archivesBaseName = 'excel-formatter'
version = '1.0.0'

repositories {
    maven {
        url System.getenv("HOME") + "/.m2/repository"
    }
    mavenCentral()
}

dependencies {
    compile group: 'org.apache.poi', name : 'poi', version: '3.13'
    compile(group: 'org.apache.poi', name : 'poi-ooxml', version: '3.13') {
        exclude group: 'stax', module: 'stax-api'
    }
    testCompile 'junit:junit:4.11'
}

jar {
    manifest {
        attributes 'Implementation-Title': 'Excel Formatter', 'Implementation-Version': 1.0
        attributes 'Main-Class' : 'jp.designrule.ExcelFormatter'
    }
    from configurations.compile.collect {it.isDirectory() ? it : zipTree(it)}
    from "$buildDir/classes/main"
    from "$buildDir/resources/main"
}
